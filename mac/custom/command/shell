#  Debugging Bash scripts

bash -x script1.sh # Subshell with the -x option, which will run the entire script in debug mode

# Debugging on part(s) of the script

set -x			# activate debugging from here
w
set +x			# stop debugging from here

# list block devices

lsblk 

# SED
# s/ for substitute the found expression
# g/ means global replace i.e. find all occurrences of the expression and replace it
# -i/ means in place, i.e. save the changes to the file

sed -i 's/old/new/g' file.txt

# p/ print the line after the substitution
# d/ delete the line after the substitution
# 

# List all shell variables?

bash #: use set -o posix ; set. The POSIX options is there to avoid outputting too much information, like function definitions. declare -p also works.

zsh #: use typeset

# AWK

awk '{print $1}' file.txt # print the first column of the file
awk 'FNR == 2 {print}' # print the second line of the file
awk 'FNR == 2 {print $3}' # print the third column of the second line of the file

#IF 

If you want to run a series of commands after the && operator, enclose the commands in curly brackets separated by ; or &&:

[ -f /etc/resolv.conf ] && { echo "$FILE exist."; cp "$FILE" /tmp/; }
Copy
In contrast to &&, the statement after the || operator will only be executed if the exit status of the test command is false.

[ -f /etc/resolv.conf ] && echo "$FILE exist." || echo "$FILE does not exist."

# ITERM

imgcat filename
  Displays the image inline.
imgls
  Shows a directory listing with image thumbnails.
it2api
  Command-line utility to manipulate iTerm2.
it2attention start|stop|fireworks
  Gets your attention.
it2check
  Checks if the terminal is iTerm2.
it2copy [filename]
  Copies to the pasteboard.
it2dl filename
  Downloads the specified file, saving it in your Downloads folder.
it2setcolor ...
  Changes individual color settings or loads a color preset.
it2setkeylabel ...
  Changes Touch Bar function key labels.
it2tip
  iTerm2 usage tips
it2ul
  Uploads a file.
it2universion
  Sets the current unicode version.
it2profile
  Change iTerm2 session profile on the fly.
